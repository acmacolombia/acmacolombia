---
import { languages } from '~/i18n/ui';
import { getLangFromUrl } from '~/i18n/utils';
import { getLocalizedPermalink, getCanonical, cleanSlug} from '~/utils/permalinks';
import { SITE } from '~/utils/config';
const BASE_PATHNAME = SITE.base || '/';

const activeLanguage = getLangFromUrl(Astro.url);
const filteredLanguages = Object.entries(languages).filter(([lang]) => lang !== activeLanguage);
const url = Astro.url.pathname.replace(BASE_PATHNAME, '').replace(activeLanguage, '');
---
        <ul>
            {filteredLanguages.map(([lang, label]) => (
                <li>
                    <a href={getLocalizedPermalink(lang, url)}>{label}</a>
                </li>
            ))}
        </ul>
